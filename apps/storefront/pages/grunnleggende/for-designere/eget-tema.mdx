import { PaletteIcon } from '@navikt/aksel-icons';

import { MenuPageLayout } from '@layouts';
import { Meta, Image } from '@components';

<Meta
  title='Bruk designsystemet med eget tema'
  description='L칝r hvordan du kan bruke designsystemet med dine egne profilfarger.'
/>

export default ({ children }) => (
  <MenuPageLayout
    content={children}
    data={{
      title: 'Bruk designsystemet med eget tema',
      date: '22. mai 2024',
      icon: <PaletteIcon />,
      color: 'blue',
    }}
  />
);

Skal du ta i bruk Designsystemet i din egen organisasjon med dine egne profilfarger? Det er flere m친ter 친 gj칮re det p친. Det f칮rste du m친 ta stilling til er om du vil bruke komponentene _med_ eller _uten_ kobling mellom Figma og kode.

**Alternativ 1:** _Uten_ kobling mellom Figma og kode \
**Alternativ 2:** _Med_ kobling mellom Figma og kode

Hvilket alternativ du g친r for avhenger av dine behov og rammer.

Fordelen med 친 ha en kobling, gjennom tokens, er at de s칮rger for at designere og utviklere arbeider etter de samme reglene, og at ting ser likt ut i Figma og i de faktiske l칮sningene. En annen fordel er at du vil kunne generere et tema som vil fungere ut av boksen med designsystemet sine komponentbibliotek i kode.

Ulempen er at det krever en del mer f칮rste gang du skal sette det opp, ettersom du er avhengig av pluginen [Tokens Studio](https://tokens.studio/) og en Github-PAT. Vi h친per vi kan gj칮re dette enklere med en egen plugin etter hvert. I mellomtiden m친 du vurdere om det er verdt det for din organisasjon.

Vi guider deg gjennom begge alternativene her.

## Alternativ 1: Uten kobling

Ved 친 _ikke_ ha en kobling kan du sette opp Figma-bibiloteket med dine farger uten at du m친 bruke Github. _Uten direkte kobling til tokens_, m친 du manuelt passe p친 at variablene som lages i Figma er de samme som brukes i kode.

### Slik g친r du frem:

1. Hent Designsystemet fra [Figma Community](https://www.figma.com/community/file/1322138390374166141/designsystemet-core-ui-kit) (Trykk "Open in Figma"). Merk at dette blir en kopi av komponentbiblioteket uten noen kobling mot hovedfilen.
2. Filen har n친 sannsyligvis lagt seg i dine "drafts" n친, s친 du m친 flytte den til et fornuftig sted i din organisasjon.
3. G친 til theme.designsystemet.no og generer fargeskalaen ut i fra dine profilfarger.
4. 칀pne "local variables" i Figma og bytt ut `accent`, `neutral`, `brand1`, `brand2`, `brand3` med dine egne farger. Det er litt tungvindt n친 siden du m친 manuelt klippe og lime hex-koder. Vi jobber med en [plugin til Figma](https://github.com/digdir/designsystemet/tree/next/plugins/figma-sync) som gj칮r at du bare kan kopiere inn hele sulamitten. 游꿀
5. N친 skal du se alle komponentene med dine egne profilfarger.
6. For at andre designere i organisasjonen skal kunne bruke komponentene m친 du publisere filen.
7. Det var alt! Og s친 var det 친 holde filen oppdatert da... Figma har forel칮pig [ikke st칮tte for 친 hente ned endringer fra en Community-fil](https://forum.figma.com/t/need-a-way-to-get-latest-updates-or-subscribe-to-changes-from-a-published-community-file/32571). Vi h친per dette vil komme, i mellomtiden kan du [vurdere disse alternativene](/grunnleggende/for-designere/hent-oppdateringer).

<Image
  src='/img/local-variables.png'
  alt='Skjermbildet viser Figma med et utsnitt fra variablene'
  boxShadow={false}
  caption='Skjermbildet viser variabler i Figma. Du m친 bytte ut fargene under `alt1`, `alt2`, `alt3` med dine egne farger (Steg 3).'
/>

## Alternativ 2: Med kobling

En kobling gj칮r at du slipper 친 legge variablene inn i Figma, du importerer dem i stedet fra json-filen og holder dem i sync via pluginen "Tokens studio".

### Slik g친r du frem for 친 f친 det til:

1. Er du designer kan det v칝re lurt 친 snakke med en utvikler, slik at dere har en felles forst친else av hvordan tokens kobler sammen Figma og kode. For 친 kunne legge til egne tokens i dagens oppsett m친 du lage en kopi av dette repoet: [designsystemet-themes](https://github.com/designsystemet/design-tokens). Velg "Use this template" og "Create a new repository".

2. G친 til [theme.designsystemet.no](theme.designsystemet.no). Legg inn dine farger og velg `Kopier` > `Light theme`. [Les mer om fargesystemet her](/grunnleggende/for-designere/fargesystem).

3. G친 til repoet du lagde i steg 1. Lim inn koden du kopierte i steg 2 her: `DittRepo/design-tokens/primitives/colors/light/theme1.json`.

4. N친 kan du sette opp [Tokens Studio](https://tokens.studio/) til 친 peke p친 repoet. Slik gj칮r du det:

   - **[Installer](<https://www.figma.com/community/plugin/843461159747178978/Tokens-Studio-for-Figma-(Figma-Tokens)>) Figma Tokens** - En plugin for Figma som gj칮r at du kan bruke json-filen til 친 generere variabler for Figma. De fleste designere skal slippe 친 forholde seg til denne pluginen, men en person i organisasjonen b칮r ha ansvar for 친 holde tokens i sync med variablene som eksisterer i figma.
   - **I Github:**

     - g친 til [GitHub Developer Settings](https://github.com/settings/tokens)
     - trykk "Generate new token" (Classic).
     - Skriv "Designsystemet" i "Note"
     - Sett expiration et godt stykke frem i tid.
     - Huk av "repo" i avkrysningsboksene.
     - Trykk "Generate token"
     - Du f친r n친 en "Personal Access Token" (PAT).
     - (Jepp, litt tungvindt dette! 游봇)
     - Kopier PAT-en (du kan bare se den 칠n gang)

   - **I Figma Tokens**, under `Sync > GitHub`, fyll inn:
     - Name: `DesignsystemetTokens`
     - Personal Access Token: `*** din PAT ***` (som du fikk fra Github)
     - Repository: `der-din-fork-ligger/designsystemet`. (Bytt ut Digdir med eieren av ditt repo)
     - Branch: "main".
     - File Path: `design-tokens`
     - Trykk "Save"

<Image
  src='/img/tokens-studio-github.png'
  alt='Skjermbildet viser Tokens studio med Github-innstillingene for 친 koble opp mot et repo.'
  boxShadow={false}
  caption='Bildet viser innstillingene du m친 angi i Tokens Studio for 친 koble deg opp mot et repo'
/>

3. Kom du deg helt hit!? Gratulerer, det verste er n친 over! 游꿀

4. Du vil n친 se alle tokens-verdiene du genererte i temavelgeren. Du kan velge `Styles & variables` og `Create variables` for 친 f친 fargene dine tilgjengelige som variabler i Figma.

5. Ferdig! 游꿀 PS. Dersom du skal gj칮r endringer p친 tokens i pluginen kan du pushe endringene til Github-repoet ditt ved 친 trykke p친 "Last-opp"-ikonet (Push) nederst. Men...du m친 ha Pro-versjonen av Tokens Studio for 친 kunne gj칮re dette, s친 det kan v칝re like greit at endringer kun gj칮res i koden, og at du henter ned eventuelle endringer til Figma ved 친 velge "Last-ned"-ikonet (Pull) nederst.
