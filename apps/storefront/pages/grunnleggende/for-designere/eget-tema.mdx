import { PaletteIcon } from '@navikt/aksel-icons';

import { MenuPageLayout } from '@layouts';
import { Meta, ResponsiveIframe, Image } from '@components';

<Meta
  title='Bruk designsystemet med eget tema'
  description='Hvordan du kan bruke Designsystemet med egne farger og profil-preferanser.'
/>

export default ({ children }) => (
  <MenuPageLayout
    content={children}
    data={{
      title: 'Bruk designsystemet med eget tema',
      date: '2. mai 2024',
      icon: <PaletteIcon />,
      color: 'blue',
    }}
  />
);

Skal du ta i bruk Designsystemet i din egen organisasjon med dine egne farger og profil-preferanser? Det er flere m친ter 친 gj칮re det p친. Det f칮rste du m친 ta stilling til er om du vil bruke komponentene _med_ eller _uten_ kobling mellom Figma og kode.

**Alternativ 1:** _Uten_ kobling mellom Figma og kode \
**Alternativ 2:** _Med_ kobling mellom Figma og kode

Hvilket alternativ du g친r for avhenger av dine behov og rammer.

Fordelen med 친 ha en kobling, gjennom tokens, er at de s칮rger for at designere og utviklere arbeider etter de samme reglene, og at ting ser likt ut i Figma og i de faktiske l칮sningene. Ulempen er at det krever litt 친 sette opp tokens-koblingen mot Figma, og du m친 vurdere om det er verdt det for din organisasjon.

Du kan alts친 bruke Figma-biblioteket _uten direkte kobling til tokens_, men det blir da en manuell jobb med 친 passe p친 at variablene som lages i Figma er de samme som brukes i tokens-filen.

Vi guider deg gjennom begge alternativene her.

## Alternativ 1: Uten kobling

칀 _ikke_ ha en kobling er den raskeste veien til 친 f친 opp Figma-filen med egne farger.

### Slik g친r du frem for 친 f친 det til:

1. Hent Designsystemet fra [Figma Community](https://www.figma.com/community/file/1322138390374166141/designsystemet-core-ui-kit) (Trykk "Open in Figma"). Merk at dette blir en kopi av komponentbiblioteket uten noen kobling mot hovedfilen.
2. Filen har n친 sannsyligvis lagt seg i dine "drafts" n친, s친 du m친 flytte den til et fornuftig sted i din organisasjon.
3. 칀pne "local variables" i Figma og bytt ut `alt1`, `alt2`, `alt3` med dine egne farger fra din egen fargeskala. Har du ikke farger som passer inn, kan du [f친 hjelp med 친 sette det opp fargeskalaene her](/grunnleggende/for-designere/fargesystem). Det var alt! N친 skal komponentene ha dine farger! 游꿀
4. NB! For at andre designere i organisasjonen skal kunne bruke komponentene m친 du publisere filen.
5. Og s친 var det 친 holde filen oppdatert da... Figma har forel칮pig [ikke st칮tte for 친 hente ned endringer fra en Community-fil](https://forum.figma.com/t/need-a-way-to-get-latest-updates-or-subscribe-to-changes-from-a-published-community-file/32571). Vi h친per dette vil komme, i mellomtiden kan du [vurdere disse alternativene](/grunnleggende/for-designere/hent-oppdateringer-fra-figma).

<Image
  src='/img/local-variables.png'
  alt='Skjermbildet viser Figma med et utsnitt fra variablene'
  boxShadow={false}
  caption='Skjermbildet viser variabler i Figma. Du m친 bytte ut fargene under `alt1`, `alt2`, `alt3` med dine egne farger (Steg 3).'
/>

## Alternativ 2: Med kobling

En kobling gj칮r at du slipper 친 legge variablene inn i Figma, du importerer dem i stedet fra json-filen og holder dem i sync via pluginen "Tokens studio".

### Slik g친r du frem for 친 f친 det til:

1. Er du designer kan det v칝re lurt 친 snakke med en utvikler, slik at dere har en felles forst친else av hvordan tokens kobler sammen Figma og kode. For 친 kunne legge til egne tokens i dagens oppsett m친 dere "Forke" [designsystemet](https://github.com/digdir/designsystemet). Vi jobber med 친 gj칮re dette enklere, men akkurat n친 er det dessverre slik du m친 g친 frem.

<Image
  src='/img/fork.png'
  alt='Skjermbildet viser Github med en ramme rundt "Fork"'
  boxShadow={false}
/>

2. N친r dere har en egen fork av designsystemet kan dere sette opp [Tokens Studio](https://tokens.studio/) til 친 peke p친 deres egen fork. Slik gj칮r du det:

   - [Installer](<https://www.figma.com/community/plugin/843461159747178978/Tokens-Studio-for-Figma-(Figma-Tokens)>) Figma Tokens - En plugin for Figma som gj칮r at du kan bruke json-filen til 친 generere variabler for Figma. Du trenger en pro-versjon av denne for 친 kunne pushe til Github. Du trenger sansynligvis bare en lisens. De fleste designere skal slippe 친 forholde seg til denne pluginen, men en person i organisasjonen b칮r ha ansvar for 친 holde tokens i sync med variablene som eksisterer i figma.
   - I Github, g친 til [GitHub Developer Settings](https://github.com/settings/tokens) og trykk "Generate new token" (Classic). Skriv "Designsystemet" i "Note" og sett expiration et godt stykke frem i tid. Huk av "repo" i avkrysningsboksene. Trykk "Generate goken" og du f친r n친 en "Personal Access Token" (PAT). (Jepp, dette er forferdelig tungvindt! 游봇)
   - Kopier PAT-en (du kan bare se den 칠n gang)
   - I Figma Tokens-plugin-modulen, under `Sync > GitHub`, fyll inn:

     - Name: `DesignsystemetTokens`
     - Personal Access Token: `*** din PAT ***` (som du fikk fra Github)
     - Repository: `der-din-fork-ligger/designsystemet`. (Bytt ut Digdir med eieren av ditt repo)
     - Branch: "main".
     - File Path: `design-tokens`

   - Trykk "Save"

<Image
  src='/img/tokens-studio-github.png'
  alt='Skjermbildet viser Tokens studio med Github-innstillingene for 친 koble opp mot et repo.'
  boxShadow={false}
  caption='Bildet viser innstillingene du m친 angi i Tokens Studio for 친 koble deg opp mot et repo'
/>

3. Kom du deg helt hit!? Gratulerer, det verste er n친 over! 游꿀

4. Du vil n친 se alle tokens-verdiene som kommer med Designsystemet. Du kan overstyre det som ligger i "Brand". Dupliser "Digdir"-settet og gi det et eget navn. Slett de andre settene, slik at du kun har ditt/dine brand(s).

<Image
  src='/img/tokens-duplicate.png'
  alt='Skjermbildet viser Tokens studio med Github-innstillingene for 친 koble opp mot et repo.'
  boxShadow={false}
/>

4. N친 er det bare 친 bytte ut fargene med egne farger! H칮yreklikk p친 en farge og rediger den. Lim inn dine egne hex-koder. Forresten, du trenger hele fargeskalaen. Har du ikke farger som passer inn, kan du [f친 hjelp med 친 sette opp fargeskalaene her](/grunnleggende/for-designere/fargesystem).

5. Etter at du har lagt inn fargene dine pusher du endringene til Github-repoet, ved 친 trykke p친 "Last-opp"-ikonet nederst.

6. N친 kan du Trykke "Styles & varaibles" og "Create variables". Alle fargene dine skal n친 eksistere som variabler i Figma.
