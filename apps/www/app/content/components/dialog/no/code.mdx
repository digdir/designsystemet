<Story story="Preview" />

<ReactComponentDocs />

## Bruk

For å legge til egen lukk knapp, kan du enten bruke `command="close" commandfor="DIALOG-ID"` ellr `ref` og `Dialog.close()` på en knapp du lager selv.
Dersom knappen er tom vil den få et ikon.
Dersom knappen er direkte barn av dialogen og første element, vil den flyte til topp høyre.

```tsx
import { Dialog, Heading, Paragraph } from '@digdir/designsystemet-react';

/* med context */
<Dialog.TriggerContext>
  <Dialog.Trigger>Open Dialog</Dialog.Trigger>
  <Dialog>
    Dialog content
  </Dialog>
</Dialog.TriggerContext>

/* uten context */
<Button command="show-modal" commandfor="my-dialog">Open Dialog</Button>
<Dialog id="my-dialog">
Dialog content
</Dialog>
```

## Eksempel

### Med command og uten context

Dersom du ikke vil bruke `Dialog.TriggerContext`, kan du bruke `command="show-modal"` eller `command="--show-non-modal"` og `commandfor="DIALOG-ID"` for å åpne dialogen fra en ekstern trigger.

<Story story="WithCommand" />

### Med ref og uten context

Dersom du ikke vil bruke `Dialog.TriggerContext`, kan du bruke `ref` for å åpne dialogen fra en ekstern trigger.
Du bruker da native metoder på `<dialog>`-elementet, som `showModal()` eller `show()`.
Merk at knappen som åpner dialogen da bør ha `aria-haspopup="dialog"`-attributtet.

<Story story="WithRef" />

### Med skjema og fokus

Dersom du vil at et felt i et skjema inni dialogen skal få fokus når dialogen åpnes, kan du bruke native `autofocus`-attributtet på input-elementet.

Når du bruker dette med React, må du skrive det med små bokstaver som `autofocus`, ikke `autoFocus`.
Denne prop-en eksistere ikke i React sine typedefinisjoner, så vi har ignorert feilen med en `@ts-expect-error`-kommentar i eksempelet under.

<Story story="WithForm" />

### Med blokker

Bruk flere `Dialog.Block` hvis du vil dele opp dialogen med skillelinjer til for eksempel topp- og bunn-område. Merk at innhold kan ikke plasseres direkte i `Dialog` dersom du bruker `Dialog.Block`; da burde alt innholdet være inni en av av dialogens `Dialog.Block`-seksjoner.

<Story story="WithBlocks" />

### Lukk ved klikk utenfor

Vi bruker `closedby="any"` for å lukke dialogen når brukeren klikker utenfor.
Vi legger til polyfill så `closedby="any"` også fungerer i eldre Safari.

<Story story="CloseWithClickOutside" />

## HTML

Hovedklassenavnet er `ds-dialog`, som blir plassert på `<dialog>`-elementet.
Blokker inne i dialogen får klassenavn som `ds-dialog__block`.
```html
<dialog class="ds-dialog">
  Content
</dialog>

<!-- med inndeling -->
<dialog class="ds-dialog">
  <div class="ds-dialog__block">
    Header
  </div>
  <div class="ds-dialog__block">
    Content
  </div>
  <div class="ds-dialog__block">
    Footer
  </div>
</dialog>
```

I HTML må du selv koble `<dialog>`-elementet til en trigger via `command="show-modal"` eller `command="--show-non-modal"` og `commandfor="DIALOG-ID"`.

```html
<button command="show-dialog" commandfor="my-dialog" type="button">Open Dialog</button>
<dialog id="my-dialog" class="ds-dialog">
  <div>Content</div>
  <button command="close" commandfor="my-dialog">Close</button>
</dialog>
```

## CSS variabler og data-attributter
Alle CSS variabler brukt av `ds-dialog__block` er satt på `ds-dialog`.

<CssVariables />

<CssAttributes />
