<Story story="Preview" />
<ReactComponentDocs />

## Usage
`Field` can be used together with `Input`, `Textarea` and `Select`. **Note**: `Textfield` already has `Field` built-in, and therefore cannot be used inside a `Field`.


## Example

### Prefix / Suffix

Prefixes and suffixes are useful for showing units, currency or other information relevant to the field. You should **not** use these on their own, as screen readers do not announce them. It is important that the same information shown in the prefix or suffix is also included in the label.

<Story story="Affix" />

### Character count

Use `Field.Counter` to inform users about the number of characters they can enter in the field.

<Story story="Counter" />

### Placement

Use `position="end"` when you want to place, for example, a `Switch` to the right of the `Label`.

You can change the text by passing props, as shown at the top of the page. The language is Norwegian Bokm√•l by default.

<Story story="Position" layout="column" />

## HTML

You can get styling from `Field` using the class name `ds-field`.
For the description you must set `data-field="description"` to get correct styling.

Unfortunately there is some JavaScript that `Field` runs internally, so this needs to be wired up by you.
The code we use is not React-specific, so you can copy our code until we have a better alternative outside React.

[`fieldObserver` (github.com)](https://github.com/digdir/designsystemet/blob/main/packages/react/src/components/field/field-observer.ts)

```html
<div class="ds-field">
  <label
    class="ds-label"
    data-weight="medium"
    for="field-input"
  >Last name</label>
  <div data-field="description" id="field-description">Last name cannot contain spaces</div>
  <input
    class="ds-input"
    type="text"
    value="Doe Smith"
    id="field-input"
    aria-describedby="field-error field-description"
  >
  <p
    class="ds-validation-message"
    data-field="validation"
    id="field-error"
  >You cannot have spaces in your last name</p>
</div>
```

**Make sure the form field has `aria-describedby` that refers to both the description and the validation message.**
The error should come first in `aria-describedby` so that screen readers announce the error message first.

`data-field="validation"` is only needed if you connect the `fieldObserver`.

### Placement

To change the placement of elements in `Field`, for example a `Switch`, you can add `data-position="end|start"` on the same element as `ds-field`.

```html
<div class="ds-field" data-position="end">
  <label
    class="ds-label"
    data-weight="medium"
    for=":mhxbylqzlb8"
  >Flight mode</label>
  <input
    class="ds-input"
    role="switch"
    type="checkbox"
    id=":mhxbylqzlb8"
  >
</div>
```

## CSS variables and data attributes

<CssVariables />

<CssAttributes />
