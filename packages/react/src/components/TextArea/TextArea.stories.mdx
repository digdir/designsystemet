import { Meta, Canvas, Story } from '@storybook/addon-docs';
import { TextArea } from './';
import { BetaBlock, TokensTable } from '../../../../../docs-components';
import { ArgsTable } from '@storybook/addon-docs';
import { ReadOnlyVariant } from '../../types/enums';

<Meta
  title='Kjernekomponenter/TextArea'
  component={TextArea}
  parameters={{
    status: {
      type: 'beta', // 'beta' | 'stable' | 'deprecated' | 'releaseCandidate'
      url: 'http://www.url.com/status',
    },
  }}
  argTypes={{
    charLimitInformation: {
      control: { type: 'object' },
      defaultValue: undefined,
      description: `
      Informasjon om maks antall tegn som kan skrives inn og hvor mange tegn som er igjen, samt antall 
      overskredet antall tegn. Det er kosumenten av denne komponenten som er ansvarlig for å oppdatere informasjonen
      i CharLimitInformation underveis mens brukeren skriver. Komponenten i seg selv gjør ikke noe logikk for å oppdatere
      denne informasjonen eller kalkulere antall tegn igjen, dette gjøres av deg som kosument av komponenten. Denne komponenten påser at krav om tilgjengelighet opprettholdes.`,
    },
    disabled: {
      control: { type: 'boolean' },
      defaultValue: false,
      description: 'Deaktiverer tekstfeltet.',
    },
    isValid: {
      control: { type: 'boolean' },
      defaultValue: true,
      description:
        'Sett denne til `false` for å indikere at det er en feil relatert til innholdet i tekstfeltet. Husk å gjøre det klart for brukeren hva som er feil.',
    },
    label: {
      control: { type: 'text' },
      description:
        'Tekst som beskriver hva som skal fylles inn i tekstfeltet og som vises over. Når brukeren klikker på denne, aktiveres feltet for skriving.',
    },
    onChange: {
      action: 'onChange',
      control: { type: 'function' },
      description:
        'Funksjon som kalles når brukeren endrer innholdet i tekstfeltet.',
    },
    readOnly: {
      control: {
        type: 'radio',
        options: [
          false,
          true,
          ReadOnlyVariant.ReadOnlyInfo,
          ReadOnlyVariant.ReadOnlyConfirm,
        ],
      },
      defaultValue: false,
      description: 'Gjør tekstfeltet skrivebeskyttet.',
    },
    resize: {
      control: {
        type: 'radio',
        options: ['none', 'both', 'horizontal', 'vertical'],
      },
      defaultValue: 'none',
      description:
        'Angir om brukeren skal kunne endre tekstfeltets størrelse og om dette skal være mulig vertikalt, horisontalt eller begge deler.\n- `none` gjør at brukeren ikke kan endre størrelsen.\n- `both` gjør at brukeren kan endre både høyde og bredde.\n- `horizontal` gjør at brukeren kun kan endre bredde.\n- `vertical` gjør at brukeren kun kan endre høyde.',
    },
    value: {
      control: { type: 'text' },
      description: 'Teksten som vises i tekstfeltet.',
    },
  }}
/>

export const Template = (args) => <TextArea {...args} />;

# TextArea

<BetaBlock />

`TextArea` brukes til å ta imot lengre tekster, gjerne over flere linjer.

## Eksempler

### Standard

<Canvas>
  <Story name='Standard'>{Template.bind({})}</Story>
</Canvas>

### Med feil

<Canvas>
  <Story
    name='Med feil'
    args={{ isValid: false }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Skrivebeskyttet

<Canvas>
  <Story
    name='Skrivebeskyttet'
    args={{
      readOnly: ReadOnlyVariant.ReadOnlyInfo,
      value: 'Dette er en skrivebeskyttet tekst.',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Bekreftelsesvisning

<Canvas>
  <Story
    name='Bekreftelsesvisning'
    args={{
      readOnly: ReadOnlyVariant.ReadOnlyConfirm,
      value:
        'Dette er en bekreftelsesvisning av en tekst som er skrevet inn i et tekstfelt.',
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Deaktivert

<Canvas>
  <Story
    name='Deaktivert'
    args={{ disabled: true }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Viser antall tegn igjen å skrive

<Canvas>
  <Story
    name='Antall tegn igjen å skrive'
    args={{
      charLimitInformation: {
        hasExceededCharLimit: false,
        screenReaderMaxCharDescription: 'Tekstområde har plass til 200 tegn.',
        remainingCharLimitMessage: 'Du har 200 tegn igjen.',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

### Antall tegn overskredet

<Canvas>
  <Story
    name='Antall tegn overskredet'
    args={{
      charLimitInformation: {
        hasExceededCharLimit: true,
        screenReaderMaxCharDescription: 'Tekstområde har plass til 200 tegn.',
        remainingCharLimitMessage: 'Du har 8 tegn for mye.',
      },
    }}
  >
    {Template.bind({})}
  </Story>
</Canvas>

## Egenskaper

<ArgsTable story='Standard' />

## Tokens

<TokensTable
  jsonKey='component.textarea'
  componentName='textarea'
  showPreview={false}
  description
/>
