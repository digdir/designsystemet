import { Meta, Canvas, Controls, Primary } from '@storybook/addon-docs/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/togglegroup.css?inline';
import * as ToggleGroupStories from './toggle-group.stories';

<Meta of={ToggleGroupStories} />

# ToggleGroup

`ToggleGroup` kan brukast til å samle relaterte alternativ. Komponenten består av ei gruppe knappar som heng saman, der berre éin knapp er mogleg å velje om gongen.


<Primary />
<Controls />

## Bruk
Plasser helst innhaldet du skal styre rett etter `ToggleGroup` i DOM-en. Viss ikkje, bør du bruke `aria-controls` på `ToggleGroup` for å knyte komponenten til den containeren for innhaldet som endrar seg.


```tsx
import { ToggleGroup } from '@digdir/designsystemet-react';

<ToggleGroup defaultValue='value1'>
  <ToggleGroup.Item value='value1'>Option 1</ToggleGroup.Item>
  <ToggleGroup.Item value='value2'>Option 2</ToggleGroup.Item>
  <ToggleGroup.Item value='value3'>Option 3</ToggleGroup.Item>
</ToggleGroup>;
```

## Kodeeksempler

### Innholdet på knappene
`ToggleGroup` kan ha tre typer innhold:
- Bare tekst.
- Tekst med ikon til venstre for teksten.
- Bare ikon.

#### Bare ikon
Alternativet "Bare ikon" brukes kun når du vet at brukerne vil forstå ikonet. Det kan for eksempel være ekspertbrukere eller brukere av interne tjenester, som kjenner symbolene i den aktuelle `ToggleGroup` godt. Forklar handlingene med [`Tooltip`](/docs/komponenter-tooltip--docs) når du bruker kun ikoner. 


<Canvas of={ToggleGroupStories.OnlyIcons} />

### Kontrollert
Bruk `value` på `ToggleGroup.Item` og `ToggleGroup` for å kontrollere verdiene selv.

<Canvas of={ToggleGroupStories.Kontrollert} />


## Retningslinjer
Det er ikkje alltid heilt rett fram å avgjere når du bør bruke ein `ToggleGroup` i staden for eksempelvis `Tabs` eller `Radio`. Valet kjem ofte an på situasjonen og korleis grensesnittet elles er bygd opp. Som ei tommelfingerregel bør `ToggleGroup` berre brukast når valet har ein direkte og synleg effekt i grensesnittet, til dømes at innhaldet på sida eller eit element vert oppdatert med ein gong basert på kva brukaren vel.

Det bør være minst to, men ikke flere enn fem valg i en `ToggleGroup`. Trenger du flere valg enn fem, bruker du [`Combobox`](/docs/komponenter-combobox--docs).

**Passer til å**

- filtrere innhold i lister og tabeller
- veksle mellom datavisning og innhold, for eksempel mellom tabell og graf
- styre hvilke felter i et skjema som skal vises

**Passer ikke til å**
- bruke som radioknapp – bruk heller [`Radio`](/docs/komponenter-radio--docs)

### Gi nok plass til komponenten

Pass på at hele komponenten får plass på skjermen og at alle valgene er godt synlig for brukerne. I grensesnitt med liten plass, for eksempel på mobil, kan vi bruke [`Combobox`](/docs/komponenter-combobox--docs) i stedet.

## Tekst 

Ha gjerne med en ledetekst for gruppen, som forklarer hva valgene gjelder. Skriv tydelige tekster for valgene i komponenten, og pass på at de har samme språklige form. Ta med hint i [`Tooltip`](/docs/komponenter-tooltip--docs), særlig hvis du bare viser ikoner.

## Tilgjengelighet

`ToggleGroup` har standard fokusindikator (ramme).
Vi bruker `roving tabindex` for å håndtere fokusbevegelse mellom knappene.

### Tastaturinteraksjon 

- <kbd>Tab</kbd> flytter fokuset til den aktive toggle-knappen.
- <kbd>Shift</kbd>+<kbd>Tab</kbd> flytter fokuset til elementet før `ToggleGroup` i tabindex.
- <kbd>Space</kbd> velger en knapp.
- <kbd>Enter</kbd> velger en knapp.
- <kbd data-icon>↑</kbd> flytter fokuset til forrige knapp i gruppa.
- <kbd data-icon>←</kbd> flytter fokuset til forrige knapp i gruppa.
- <kbd data-icon>↓</kbd> flytter fokuset til neste knapp i gruppa.
- <kbd data-icon>→</kbd> flytter fokuset til neste knapp i gruppa.
- <kbd>Home</kbd> går til første knapp i gruppa.
- <kbd>End</kbd> går til siste knapp i gruppa.


## CSS Variabler

<CssVariables css={css} />
