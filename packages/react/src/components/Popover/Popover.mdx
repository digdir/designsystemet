import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/popover.css?inline';
import * as PopoverStories from './Popover.stories.tsx';

<Meta of={PopoverStories} />

# Popover

<Primary />
<Controls />

## Slik bruker du `Popover`

```tsx
import { Popover } from '@digdir/designsystemet-react';

// med context
<Popover.TriggerContext>
  <Popover.Trigger>Trigger</Popover.Trigger>
  <Popover>Content</Popover>
</Popover.TriggerContext>

// uten context med egen trigger
<Button popovertarget="my-popover">Trigger</Button>
<Popover id="my-popover">Content</Popover>
```

## Eksempler

### Farger

`Popover` kommer i alle farger, du kan endre den med `data-color`.

<Canvas of={PopoverStories.Variants} />

### Kontrollert

Dersom du sender inn `open`, så bruker du `Popover` kontrollert. Du kan bruke `onClose` for å få beskjed når `Popover` vil lukkes.
Dette er nyttig dersom du har innhold som skal lukke `Popover` når du klikker på det.

<Canvas of={PopoverStories.Controlled} />

### Auto Plassering

Standard oppførsel er at `Popover` alltid vil prøve å være i viewporten, men ankret til triggeren.
`Popover` har en `autoPlacement` prop som kan brukes til å slå av automatisk plassering. Standardverdien er `true`.

## Tilgjengelighet

Det er innebygd tilgjengelighet i [Popover APIet](https://developer.mozilla.org/en-US/docs/Web/API/Popover_API) i henhold til åpne/lukket tilstand og tastatur navigasjon.

## React og `popovertarget`
Når du bruker `Popover` uten `Popover.TriggerContext`, kobler du selv sammen utløseren og `Popover`.
Da brukes `popovertarget` i små bokstaver, slik at alle versjoner av React korrekt gjengir attributtet.
Når du bruker `@digdir/designsystemet-react` utvider vi `@types/react-dom` til å akseptere dette.

## CSS Variabler

<CssVariables css={css} />
