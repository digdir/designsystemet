import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';

import * as PopoverStories from './Popover.stories.tsx';

<Meta of={PopoverStories} />

# Popover

<Primary />
<Controls />

## Slik bruker du `Popover`

```tsx
import '@digdir/design-system-tokens/brand/altinn/tokens.css'; // Importeres kun en gang i appen din.
import { Popover } from '@digdir/design-system-react';

<Popover>
  <Popover.Trigger>Trigger</Popover.Trigger>
  <Popover.Content>Content</Popover.Content>
</Popover.Trigger>
```

`Popover.Trigger` styrer om innholdet i `Popover` skal vises eller ikke. Du kan bruke `asChild` for å endre hvordan `Popover.Trigger` rendres.
Triggeren kan også rendres utenfor `Popover` ved å bruke `anchorEl` istedenfor `Popover.Trigger`, men da må bruke den kontrollert, og styre aria attributter selv.

`Popover.Content` er innholdet som skal vises i `Popover`.

## Eksempler

### Variants

<Canvas of={PopoverStories.Variants} />

### Kontrollert

Dersom du sender inn `open`, så bruker du `Popover` kontrollert. Du kan bruke `onClose` for å få beskjed når `Popover` vil lukkes.

<Canvas of={PopoverStories.Controlled} />

### I Portal

<Canvas of={PopoverStories.InPortal} />

## Tilgjengelighet

Dersom du bruker `Popover.Trigger` er det innebyd tilgjengelighet for deg, men dersom du bruker `anchorEl` må du styre tilgjengelighet selv.
Då må må legge på `aria-expanded`.

## `anchorEl`

Du kan bruke `anchorEl` istedenfor `Popover.Trigger` for å styre hvor `Popover` skal vises, men da må du styre åpning og lukking av `Popover` selv.
Vi anbefaler å bruke `Popover.Trigger` istedenfor `anchorEl` fordi det er bygd inn tilgjenelighetshåndtering for deg.
Dette vil bli fjernet i fremtiden, og vi anbefaler å bruke `Popover.Trigger` istedenfor.

<Canvas of={PopoverStories.AnchorEl} />

## `Popover.Trigger`

Med `Popover.Trigger` kan du styre hvordan triggeren `Popover` skal vises. Du kan bruke `asChild` for å endre hvordan `Popover.Trigger` rendres.
Dersom du skal legge på funksjoner som `onClick`, legg det på ditt element, og legg `asChild` på `Popover.Trigger`.
Triggeren rendres som [Button](/docs/felles-button--docs) som standard.
