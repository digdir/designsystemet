import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/blocks';
import { CssVariables } from '@doc-components';

import * as DetailsStories from './Details.stories';

import { Details } from '.';
import css from '@digdir/designsystemet-css/details.css?inline';

<Meta of={DetailsStories} />

# Details
Med `Details` kan du presentera mykje innhald på liten plass i ei eller fleire rader. Heile rada er klikkbar og let brukarar opna eller lukka visninga av innhaldet under.

<Primary />
<Controls />

## Bruk

```tsx
/* Utan ramme */
import { Details } from '@digdir/designsystemet-react';

<Details>
  <Details.Summary>Details heading text</Details.Summary>
  <Details.Content>Details content</Details.Content>
</Details>

/* Med ramme */

import { Details, Card } from '@digdir/designsystemet-react';

<Card>
  <Details>
    <Details.Summary>Details heading text</Details.Summary>
    <Details.Content>Details content</Details.Content>
  </Details>
</Card>
```

## Kodeeksempler

### Med ramme

`Details` kan visast med ramme ved å leggje den i eit `Card`.
Dette kan passa i tilfelle der `Details` ikkje fyller heile sida, eller når det berre er ei rad.

<Canvas of={DetailsStories.InCard} />

### Med fargar

`Details` kan visast i fargar frå temaet ditt.

<Canvas of={DetailsStories.InCardWithColor} />

#### Kontrollert

`Details` held sjølv styr på om den er open eller lukka, men dette kan òg kontrollerast utanfrå.

<Canvas of={DetailsStories.Controlled} />

## Retningslinjer

Ikkje bruk `Details` til å skjula innhald for å gjera sida "ryddigare". Når vi skjuler innhold er det fare for at brukerne ikke se innholdet i det hele tatt. Finn ut om du faktisk må skjula innhald og ver klar over kvifor du gjer det. 

**Passar til å**

- samla innhald 
- gjera det frivillig å sjå innhald som er mindre viktig
- visa tilleggsinformasjon som kan vera til hjelp for brukarane

**Passar ikkje til å**

- visa viktig innhald som alle bør sjå når dei kjem til sida
- oppsummera feilmeldingar - bruk heller [`ErrorSummary`](/docs/komponenter-errorsummary--docs)

### Unngå nøsta lister

Ikkje legg ein `Details` inni ein annan, det vi kallar nøsta lister. Det kan bli forvirrande for brukaren å forstå kva som er opna og lukka, spesielt når fleire nivå kan opnast samtidig.

## Tekst
 Sørg for at overskrifta gjev ei god skildring av kva innhaldet i `Details` er. Overskriftene kan ha stor tyding for om brukarane finn det dei treng, om innhaldet blir lese og om det kan reknast som tilgjengeleg for alle brukarar. «Vis meir» eller «Les meir her» er ikkje gode nok titlar. Har du ein `Details` med mange nedtrekk, kan du ha ei hovudoverskrift eller temaoverskrift over heile lista.

 Hold innholdet i `Details` kort for å sikre at det lett kan relateres til overskriften. Om innhaldet er for langt bør du fordela innhaldet i fleire `Details`. Ved veldig mykje innhald kan det vere betre å vurdere å lage eigne sider.

## Tilgjengelegheit

[`Chevron`](https://aksel.nav.no/ikoner/ChevronDown)-ikonet er plassert til venstre for teksten, av omsyn til brukarar med nedsett synsfelt. Dei ser berre ein liten del av skjermen om gongen, og skannar gjerne vertikalt nedover på venstre side. Difor bør funksjonelle element stå til venstre, der dei lettare blir oppdaga. Plasseringa av chevronen bør òg vere konsekvent for å unngå forveksling med andre element.

Ikkje plasser andre interaktive element inn i `Details.Summary`, då heile rada skal vera klikkbar. Ikonet og teksten skal _ikkje_ lenka til ulike handlingar (til dømes at teksten går vidare til ei side, medan ikonet opnar lista). Brukarane ventar ikkje at ikon og tekst skal gje ulikt resultat når dei vel dei.


<kbd>Space</kbd> eller <kbd>Enter</kbd> åpnar eller lukkar `Details`.

## Kjende manglar
I Firefox og Safari blir det ikkje spelt av animasjon når `Details` blir opna og lukka. 
Sjå [interpolate-size](https://developer.mozilla.org/en-US/docs/Web/CSS/interpolate-size).

## CSS-variablar

<CssVariables css={css} />
