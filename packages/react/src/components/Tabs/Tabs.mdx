import { Meta, Canvas, Controls, Primary, ArgTypes } from '@storybook/blocks';
import { CssVariables } from '@doc-components';
import css from '@digdir/designsystemet-css/tabs.css?inline';
import { Tabs } from './Tabs';
import { TabsTab } from './TabsTab';
import { TabsPanel } from './TabsPanel';
import * as TabsStories from './Tabs.stories';

<Meta of={TabsStories} />

# Tabs

`Tabs` lar brukerne navigere mellom relaterte deler av innholdet, der én del vises om gangen. Dette er en effektiv måte å organisere og presentere relatert innhold på samme side.

<Primary />
<Controls />

## Slik bruker du Tabs

```tsx
import { Tabs } from '@digdir/designsystemet-react';

<Tabs defaultValue='value1'>
  <Tabs.List>
    <Tabs.Tab value='value1'>Tab 1</Tabs.Tab>
    <Tabs.Tab value='value2'>Tab 2</Tabs.Tab>
    <Tabs.Tab value='value3'>Tab 3</Tabs.Tab>
  </Tabs.List>
  <Tabs.Panel value='value1'>content 1</Tabs.Panel>
  <Tabs.Panel value='value2'>content 2</Tabs.Panel>
  <Tabs.Panel value='value3'>content 3</Tabs.Panel>
</Tabs>;
```

## Eksempler

### Kun ikoner
`Tabs` kan vises med bare ikoner for et mer kompakt utseende. Sørg for at ikonene er intuitive og har beskrivende titler for skjermlesere.

<Canvas of={TabsStories.IconsOnly} />

### Med ikoner og tekst
Kombinasjonen av ikoner og tekst gir både visuell og tekstlig beskrivelse av innholdet. Ikonene bør være dekorative og markeres med `aria-hidden`.

<Canvas of={TabsStories.IconsWithText} />

## Kontrollert
Bruk kontrollert modus når du trenger å styre tab-valget programmatisk eller integrere med annen tilstand i applikasjonen.

<Canvas of={TabsStories.Controlled} />

### Props

#### `Tabs`

<ArgTypes of={Tabs} />

#### `Tabs.Tab`

<ArgTypes of={TabsTab} />

#### `Tabs.Panel`

<ArgTypes of={TabsPanel} />

## Retningslinjer for Tab

`Tabs` skal brukes til å organisere relatert innhold i separate seksjoner.

<br/>

Passer til å
* Strukturere innhold uten å laste en ny side
* Dele opp innhold i tydelig merkede seksjoner
* Forenkle navigasjon når brukeren ikke trenger å se alt samtidig

<br/>

Passer ikke til å 
* Gi en umiddelbar oversikt over innhold, da faner skjuler informasjon
* Presentere innhold som må sammenlignes på tvers av seksjoner
* Veilede brukeren gjennom en steg-for-steg-prosess der rekkefølgen er viktig
* Håndtere store mengder innhold som kan gjøre siden treg å laste
* Erstatte hovednavigasjon eller brukes til filtrering og sortering
* Være en løsning når innholdet like gjerne kan vises på én side eller fordeles på flere sider

<br/>

### Alternativer til Tabs
Før du velger tabs, vurder om det er bedre å:
* Forenkle og redusere mengden innhold
* Fordele innholdet på flere sider
* Beholde alt på én side, med tydelige overskrifter
* Bruke en innholdsfortegnelse for enklere navigasjon

<br/>

### Beste praksis
* **Begrens antall faner** – for mange skaper dårlig oversikt, særlig på små skjermer
* **Bruk tydelige etiketter** – fanene skjuler innhold, så etiketten må klart indikere hva brukeren får se
* **Plasser viktigst innhold først** – organiser fanene etter brukerens behov
* **Hold fanene på én linje** – Lange etiketter eller for mange faner kan gjøre navigasjonen vanskelig
* **Unngå deaktiverte faner** – Fjern deaktiverte faner eller forklar hvorfor de er tomme

<br/>

## Tekst i komponenten 
### Tydelige merkelapper og overskrifter
Etikettene på fanene bør være korte og beskrivende, slik at brukeren lett forstår hva de vil se når de klikker. Hvis det er vanskelig å lage presise merkelapper, kan det indikere at innholdet ikke er tilstrekkelig strukturert. Hver fane bør også ha en overskrift som gjentar fanens navn, noe som forbedrer navigasjonen, spesielt for skjermlesere og på små skjermer.

<br/>

## Tilgjengelighet
* `Tabs` støtter tastaturnavigasjon med piltaster
* Hver tab må ha en unik verdi
* Ved bruk av ikoner, sørg for at de er dekorative (`aria-hidden`) eller har beskrivende titler
* Tab-paneler er automatisk koblet til sine respektive tabs via ARIA-attributter

<br/>

### Tastaturnavigasjon
* `Tab`: Flytter fokus til neste interaktive element
* `→`: Flytter til neste tab
* `←`: Flytter til forrige tab
* `Home`: Flytter til første tab
* `End`: Flytter til siste tab
* `Enter`/`Space`: Aktiverer valgt tab

<br/>

## CSS Variabler
`Tabs`-komponenten kan tilpasses ved hjelp av CSS-variabler. De viktigste variablene inkluderer:
* Farger for aktiv, hover og inaktiv tilstand
* Størrelser og spacing
* Animasjoner og overganger

<br/>

<CssVariables css={css} />
