import { Meta, Canvas, Story, Controls, Primary } from '@storybook/blocks';
import { Information } from '../../../../../../docs-components';
import * as CheckboxStories from './Checkbox.stories';
import * as CheckboxGroupStories from './Group/Group.stories';

<Meta of={CheckboxStories} />

# Checkbox

Vi bruker `Checkbox` til å gi brukerne en liste med valg, der de kan velge ett eller flere alternativer. Brukerne kan både velge og oppheve valgene de gjør. Vi anbefaler å bruke [`Checkbox.Group`](/docs/felles-checkbox-group--docs) for gruppering av flere valg.

Hvis brukeren skal bekrefte noe, men ikke velge noe, kan en avmerkingsboks stå alene. For eksempel når brukeren skal samtykke til vilkår.

Vær oppmerksom på:

- Vis listen med avmerkingsbokser vertikalt, slik at de presenteres i leseretningen.
- Ikke bruk checkbox når det er flere enn 7 alternativer.

<Primary />
<Controls />

## Bruk

<Information text='token' />

```tsx
import '@digdir/design-system-tokens/brand/altinn/tokens.css'; // Importeres kun en gang i appen din.
import { Checkbox } from '@digdir/design-system-react';

<Checkbox.Group legend='What would your D&D party like to eat?'>
  <Checkbox value='elfsalad'>Wood Elf forest salad</Checkbox>
  <Checkbox value='firecakes'>Fire breath rice cakes</Checkbox>
  <Checkbox value='dumplings'>Chicken-something dumplings</Checkbox>
  <Checkbox value='ribs'>Sembian honey-glazed rothè ribs</Checkbox>
</Checkbox.Group>;
```

## Eksempler

<br />
### Enkel

`Checkbox` skal alltid ha en label. Bruker du ledetekst fra en annen plass, husk da å bruke `aria-label` eller `aria-labelledby`.

<Canvas of={CheckboxStories.Single} />

### Checkbox.Group

Bruk `Checkbox.Group` for gruppering av flere valg.

<Canvas of={CheckboxGroupStories.Preview} />
<Controls of={CheckboxGroupStories.Preview} />

#### Feilmelding

Bruk `error` på `Checkbox.Group` for å vise feilmelding.

Her må `Checkbox.Group` brukes da den aktiverer riktig stil og sørger for at innholdet er tilgjengelig.

<Canvas of={CheckboxGroupStories.Error} />

#### Kontrollert

Bruk `value` på `Checkbox.Group` for å kontrollere verdiene selv.

<Canvas of={CheckboxGroupStories.Controlled} />

#### Readonly

Ikke bruk readonly med mindre det er absolutt umulig å gjøre noe annet.

<Canvas of={CheckboxGroupStories.ReadOnly} />

#### Disabled

Ikke bruk disabled med mindre det er absolutt umulig å gjøre noe annet.

<Canvas of={CheckboxGroupStories.Disabled} />

<br />

## Retningslinjer for checkbox

- Hvis det er syv eller flere svaralternativer bruker vi heller [`select`](/docs/altinn-nativeselect--docs) (nedtrekksmeny).

- Ikke bruk avmerkingsbokser til å skjule eller vise innhold, eller til gjensidig utelukkende alternativer.

### Plasering og leseretning

`Checkbox` skal som hovedregel kun plasseres vertikalt, av hensyn til lesbarhet. Det er enklere for brukere å scanne listen når alternativene ligger under hverandre. En horisontal visning vil være problematisk for brukere med nedsatt synsfelt og for brukere som må forstørre websiden med zoom.

Det finnes noen unntak:

- I tabeller, for eksempel i et spørreskjema.
- For å velge rader i tabeller.

Hvis avmerkingsboksene står horisontalt er det viktig at det kommer tydelig fram hvilken tekst som hører til hvilken boks.

<br />

## Tekst i komponenten

Plasser både forklaringen (legend) og eventuell hjelpetekst brukeren trenger for å forstå oppgaven, før avmerkingsboksene. I et skjema er ofte forklaringen formulert som et spørsmål. Vurder om du trenger å ha med informasjon om at brukeren kan velge flere svaralternativer. Ledeteksten til hver boks (label) må beskrive alternativet.

Ledeteksten skal stå til høyre for boksen. Hvis det er nødvendig, kan du ha en ekstra beskrivelse under ledeteksten.

Ledeteksten skal alltid ha stor forbokstav.

En checkbox som står alene trenger ikke egen overskrift med forklaring hvis ledeteksten til høyre for boksen beskriver tydelig hva det det vil si å krysse av.

Eksempel: Jeg har lest og forstått betingelsene for kjøpet

### Synlig eller skjult overskrift + forklaring (legend)

En forklaring gjør det lettere for brukeren å skjønne hva de skal gjøre, men hvis det er nødvendig kan vi skjule forklaringen.

### Språket i tekstene til checkbox

Bruk et aktivt og positivt språk. Tenk på innholdet som en samtale. Når ledeteksten er en setning, kan du skrive den i du-form og svaralternativene i jeg-form.

#### Lag logisk sammenheng mellom forklaringen og svaralternativene

Brukeren skal kunne lese hvert svaralternativ som en logisk respons på forklaringen over boksene.

Eksempel på riktig logisk sammenheng:

Forklaring/spørsmål: Hvor lenge har du jobbet i Digdir? Ledetekster:
I under ett år.
Fra 1-3 år
Mer enn 3 år.

#### Gi svaralternativene samme språklige form

Det betyr at de kan ha enten fullstendige setninger eller ett ord, ikke begge deler.

Enten:
Ledetekster: Jeg liker å jobbe med selvstendige oppgaver Jeg elsker møter Lunsjen er best, Jeg liker å møte kolleger

Eller:
Ledetekster:
Selvstendige oppgaver
Møter
Lunsj
Kolleger

## Tilgjengelighet

Det skal være mulig å velge avmerkingsboksene kun ved å bruke tab-tasten, uten å klikke.

Sett alternativene under hverandre i en liste for å gjøre det enkelt å skanne listen. Vi plasserer ikke alternativer horisontalt fordi det gjør det vanskelig å lese.

Merk: For brukere som trenger å forstørre (zoome inn) nettsiden for å se godt nok, er en horisontal liste ekstra vanskelig.
