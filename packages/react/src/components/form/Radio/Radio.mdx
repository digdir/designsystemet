import { Meta, Canvas, Controls, Primary } from '@storybook/blocks';

import * as RadioStories from './Radio.stories';
import * as RadioGroupStories from './Group/Group.stories';

<Meta of={RadioStories} />

# Radio

`Radio` viser brukeren en liste med alternativer de kan velge mellom. Brukerne kan bytte mellom alternativene, men må velge ett. Bruk `Radio.Group` for å gruppere radioknappene.

<Primary />
<Controls />

## Slik bruker du radio

```tsx
import { Radio } from '@digdir/designsystemet-react';

<Radio.Group legend='Er du over 18 år?'>
  <Radio value='Ja'>Ja</Radio>
  <Radio value='Ne'>Nei</Radio>
</Radio.Group>;
```

## Eksempler

<br />

### Enkel radio

`Radio` skal alltid ha en `label`. Når du bruker `label` fra en annen plass, husk å bruke `aria-label` eller `aria-labelledby`.

<Canvas of={RadioStories.Single} />

## `Radio.Group`

Bruk `Radio.Group` for gruppering av radioknapper.

<Canvas of={RadioGroupStories.Preview} />
<Controls of={RadioGroupStories.Preview} />

### Feilmelding

Bruk `error` på `Radio.Group` for å vise feilmelding.

Her må `Radio.Group` brukes da den aktivere korrekt stil og sørger for at innholdet har riktige attributter mtp. tilgjengelighet.

<Canvas of={RadioGroupStories.Error} />

### Kontrollert

Bruk `value` på `Radio.Group` for å kontrollere verdiene selv.

<Canvas of={RadioGroupStories.Controlled} />

### Readonly

Felter med `readonly`-attributtet er med i tabrekkefølgen. Brukerne kan kopiere innholdet men ikke redigere det. Informasjon blir med når skjemaet sendes inn.

`Readonly`-felter kan være forvirrende for noen brukere. Ikke alle vil skjønne hvorfor de ikke får til å endre innholdet i feltet. Vi anbefaler derfor å unngå readonly så langt det lar seg gjøre.

<Canvas of={RadioGroupStories.ReadOnly} />

### Disabled

Unngå deaktiverte tilstander om du kan. De har lav fargekontrast som er problematisk for noen brukere. `disabled` kan ikke møte kontrastkravene, for da kan brukeren tro at elementet er aktivt, prøve å trykke på det, og ikke skjønne hvorfor det ikke går.

<Canvas of={RadioGroupStories.Disabled} />

### Inline

Bruk `inline` for å plassere alternativene på samme linje. Anbefales kun dersom du har to alternativer og korte ledetekster (`labels`).

<Canvas of={RadioGroupStories.Inline} />

## Retningslinjer

Vi bruker `radio` når vi skal gi brukerne mulighet til å velge kun ett alternativ.

Passer til å

- velge ett alternativ

<br />

Passer ikke til å

- navigere
- velge flere alternativer samtidig
- vise mer enn syv alternativer

<br />

For grupper med radioknapper, kan vi ha opptil syv valg. Da viser vi dem helst på hver sin linje vertikalt, så det blir lett å skanne. Hvis vi bare har to valg med korte ledetekster (`labels`), kan vi vise dem ved siden av hverandre.

Trenger vi å gi brukerne mer enn syv valg, bør vi heller bruke [`combobox`](/docs/komponenter-combobox--docs)-komponenten. Hvis vi bare skal gi brukerne ett valg, kan en [`switch`](/docs/komponenter-switch--docs) eller [`checkbox`](/docs/komponenter-checkbox--docs) passe bedre.

Tenk nøye over om du virkelig trenger å ha et forhåndsvalgt alternativ. Det kan ha motsatt effekt av det du ønsker, for eksempel at brukeren føler seg manipulert til å ta ett bestemt valg, eller ikke klarer å ta et bevisst valg selv.

<br />

## Tekst i komponenten

En gruppe med radioknapper bør alltid ha en `legend` og eventuelt en `description` dersom hjelpetekst er nødvendig.

Radioknapper skal alltid ha en `label`. Den skal være så kort som mulig og hvert alternativ bør være formulert på samme måte. Radio-komponenten kan også ha hjelpetekst (`description`). Da kommer den rett under `label`.

<img
  src='/img/component-guidelines/radio/radio-anatomy.png'
  alt='Illustrasjonen viser hva som er legend, description og label i en gruppe med radioknapper.'
/>

<br />

## Tilgjengelighet

Pass på at det er nok luft rundt hver alternativknapp, slik at den er lett å velge også på berøringsskjermer.

Unngå å plassere alternativknapper ved siden av hverandre. Det gjør det vanskelig å lese. Det skaper også problemer for brukere som må forstørre (zoome) en nettside eller app for å se godt nok.

Merk at vi bruker piltastene til å velge alternativer i radio-komponenten, ikke Tab-tasten.

- Pil opp/venstre - går til forrige valg
- Pil ned/høyre - går til neste valg
- Mellomromstasten - går til det første alternativet i en gruppe med alternativknapper, når gruppa ikke har et forhåndsvalgt alternativ.
- Tab - går til hele gruppa med alternativer.
