@layer fds.accordion {
  .fds-accordion {
    --dsc-accordion-border-radius: var(--ds-border-radius-md);
    --dsc-accordion-border-color: var(--ds-color-neutral-border-subtle);

    border-bottom: 1px solid var(--ds-color-neutral-border-subtle);
    box-sizing: border-box;
  }

  .fds-accordion--border {
    border: 1px solid var(--dsc-accordion-border-color);
    border-radius: var(--dsc-accordion-border-radius);
  }

  .fds-accordion__expand-icon {
    border-radius: var(--ds-border-radius-md);
    fill: var(--ds-color-neutral-text-default);
    color: var(--ds-color-neutral-text-default);
  }

  .fds-accordion__expand-icon path {
    fill: var(--ds-color-neutral-text-default);
  }

  .fds-accordion__content {
    padding: var(--ds-spacing-5, 1rem);
    overflow: hidden;
    text-overflow: ellipsis;
  }

  .fds-accordion__header {
    margin: 0;
  }

  .fds-accordion__button {
    width: 100%;
    display: flex;
    justify-content: flex-start;
    align-items: center;
    gap: var(--ds-spacing-2);
    margin: 0;
    text-align: left;
    cursor: pointer;
    border: none;
    border-top: 1px solid var(--ds-color-neutral-border-subtle);
    padding: var(--ds-spacing-4);
  }

  /* .fds-accordion--border .fds-accordion__button {
    border-radius: 0;
  } */

  .fds-accordion__item:focus-within {
    position: relative;
  }

  .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__expand-icon {
    transform: rotateZ(180deg);
  }

  .fds-accordion--neutral,
  .fds-accordion--neutral .fds-accordion__button {
    background-color: var(--ds-color-neutral-background-default);
  }

  .fds-accordion--subtle,
  .fds-accordion--subtle .fds-accordion__button {
    background-color: var(--ds-color-neutral-background-subtle);
  }

  .fds-accordion--brand1,
  .fds-accordion--brand1 .fds-accordion__button {
    --dsc-accordion-border-color: var(--ds-color-brand1-border-subtle);

    background: var(--ds-color-brand1-surface-default);
  }

  .fds-accordion--brand2,
  .fds-accordion--brand2 .fds-accordion__button {
    --dsc-accordion-border-color: var(--ds-color-brand2-border-subtle);

    background: var(--ds-color-brand2-surface-default);
  }

  .fds-accordion--brand3,
  .fds-accordion--brand3 .fds-accordion__button {
    --dsc-accordion-border-color: var(--ds-color-brand3-border-subtle);

    background: var(--ds-color-brand3-surface-default);
  }

  .fds-accordion--brand1 .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__button,
  .fds-accordion--brand2 .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__button,
  .fds-accordion--brand3 .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__button {
    background-color: rgba(0 0 0 / 0.03);
  }

  .fds-accordion--neutral .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__button,
  .fds-accordion--subtle .fds-accordion__item:where(.fds-accordion__item--open) .fds-accordion__button {
    background-color: var(--ds-color-accent-surface-default);
  }

  .fds-accordion--border .fds-accordion__item:first-child .fds-accordion__button {
    border-top: 0;
  }

  .fds-accordion--brand1 .fds-accordion__item:not(:first-child) .fds-accordion__button,
  .fds-accordion--brand2 .fds-accordion__item:not(:first-child) .fds-accordion__button,
  .fds-accordion--brand3 .fds-accordion__item:not(:first-child) .fds-accordion__button {
    border-top: 1px solid var(--ds-color-neutral-background-default);
  }

  .fds-accordion--border .fds-accordion__item:first-of-type .fds-accordion__button:first-of-type {
    border-top-left-radius: var(--dsc-accordion-border-radius);
    border-top-right-radius: var(--dsc-accordion-border-radius);
  }

  .fds-accordion--border .fds-accordion__item:last-of-type:not(.fds-accordion__item--open) .fds-accordion__button:first-of-type {
    border-bottom-left-radius: var(--dsc-accordion-border-radius);
    border-bottom-right-radius: var(--dsc-accordion-border-radius);
  }

  @media (hover: hover) and (pointer: fine) {
    .fds-accordion__button:hover .fds-accordion__expand-icon {
      background-color: rgba(0 0 0 / 0.1);
    }

    .fds-accordion--neutral .fds-accordion__button:hover,
    .fds-accordion--subtle .fds-accordion__button:hover {
      background-color: var(--ds-color-neutral-surface-default);
    }

    .fds-accordion--brand1 .fds-accordion__button:hover {
      background-color: var(--ds-color-brand1-surface-hover);
    }

    .fds-accordion--brand2 .fds-accordion__button:hover {
      background-color: var(--ds-color-brand2-surface-hover);
    }

    .fds-accordion--brand3 .fds-accordion__button:hover {
      background-color: var(--ds-color-brand3-surface-hover);
    }
  }
}
