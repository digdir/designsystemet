.ds-button {
  --dsc-button-background--active: var(--dsc-button-primary-background--active);
  --dsc-button-background--hover: var(--dsc-button-primary-background--hover);
  --dsc-button-background: var(--dsc-button-primary-background);
  --dsc-button-color: var(--dsc-button-primary-color);
  --dsc-button-gap: var(--ds-spacing-2);
  --dsc-button-padding: var(--ds-spacing-2) var(--ds-spacing-4);
  --dsc-button-size: var(--ds-sizing-12);
  --dsc-button-primary-background--active: var(--ds-color-accent-base-active);
  --dsc-button-primary-background--hover: var(--ds-color-accent-base-hover);
  --dsc-button-primary-background: var(--ds-color-accent-base-default);
  --dsc-button-primary-color: var(--ds-color-accent-contrast-default);
  --dsc-button-secondary-background--active: var(--ds-color-accent-surface-hover);
  --dsc-button-secondary-background--hover: var(--ds-color-accent-surface-default);
  --dsc-button-secondary-background: transparent;
  --dsc-button-secondary-border-color: var(--ds-color-accent-border-strong);
  --dsc-button-secondary-color--active: var(--ds-color-accent-text-default);
  --dsc-button-secondary-color--hover: var(--ds-color-accent-text-default);
  --dsc-button-secondary-color: var(--ds-color-accent-text-subtle);
  --dsc-button-tertiary-background--active: var(--ds-color-accent-surface-hover);
  --dsc-button-tertiary-background--hover: var(--ds-color-accent-surface-default);
  --dsc-button-tertiary-background: transparent;
  --dsc-button-tertiary-color--active: var(--ds-color-accent-text-default);
  --dsc-button-tertiary-color--hover: var(--ds-color-accent-text-default);
  --dsc-button-tertiary-color: var(--ds-color-accent-text-subtle);

  align-items: center;
  background: var(--dsc-button-background);
  border-radius: var(--ds-border-radius-md);
  border: var(--ds-border-width-default) solid var(--dsc-button-border-color, transparent);
  box-sizing: border-box;
  color: var(--dsc-button-color);
  cursor: pointer;
  display: flex;
  font: inherit;
  gap: var(--dsc-button-gap);
  justify-content: center;
  min-height: var(--dsc-button-size);
  min-width: var(--dsc-button-size); /* 2.5em; /* TODO: Why not ds-spacing here? */
  outline: none;
  padding: var(--dsc-button-padding);
  text-align: inherit;
  text-decoration: none;

  & svg { overflow: visible } /* TODO: Add comment about why? */

  /**
    * Sizes
    */
  &[data-size="sm"] {
    --dsc-button-padding: var(--ds-spacing-2) var(--ds-spacing-3);
    --dsc-button-gap: var(--ds-sizing-1);
    --dsc-button-size: var(--ds-sizing-10); /* TODO: 40px, enough click surface? Yes accordting to Nielsen Norman group https://www.nngroup.com/articles/touch-target-size/ */
  }

  &[data-size="lg"] {
    --dsc-button-padding: var(--ds-spacing-3) var(--ds-spacing-5);
    --dsc-button-size: var(--ds-sizing-14);
  }

  &[data-fill]:not([data-fill="false"]) {
    width: 100%;
    text-align: center;
  }

  /**
    * Colors
    */
  &[data-color="neutral"] {
    --dsc-button-primary-background--active: var(--ds-color-neutral-base-active);
    --dsc-button-primary-background--hover: var(--ds-color-neutral-base-hover);
    --dsc-button-primary-background: var(--ds-color-neutral-base-default);
    --dsc-button-primary-color: var(--ds-color-neutral-contrast-default);
    --dsc-button-secondary-background--active: var(--ds-color-neutral-surface-hover);
    --dsc-button-secondary-background--hover: var(--ds-color-neutral-surface-default);
    --dsc-button-secondary-border-color: var(--ds-color-neutral-border-strong);
    --dsc-button-secondary-color--active: var(--ds-color-neutral-text-default);
    --dsc-button-secondary-color--hover: var(--ds-color-neutral-text-default);
    --dsc-button-secondary-color: var(--ds-color-neutral-text-subtle);
    --dsc-button-tertiary-background--active: var(--ds-color-neutral-surface-hover);
    --dsc-button-tertiary-background--hover: var(--ds-color-neutral-surface-default);
    --dsc-button-tertiary-color--active: var(--ds-color-neutral-text-default);
    --dsc-button-tertiary-color--hover: var(--ds-color-neutral-text-default);
    --dsc-button-tertiary-color: var(--ds-color-neutral-text-subtle);
  }

  &[data-color="danger"] {
    --dsc-button-primary-background--active: var(--ds-color-danger-base-active);
    --dsc-button-primary-background--hover: var(--ds-color-danger-base-hover);
    --dsc-button-primary-background: var(--ds-color-danger-base-default);
    --dsc-button-primary-color: var(--ds-color-danger-contrast-default);
    --dsc-button-secondary-background--active: var(--ds-color-danger-surface-hover);
    --dsc-button-secondary-background--hover: var(--ds-color-danger-surface-default);
    --dsc-button-secondary-border-color: var(--ds-color-danger-border-strong);
    --dsc-button-secondary-color--active: var(--ds-color-danger-text-default);
    --dsc-button-secondary-color--hover: var(--ds-color-danger-text-default);
    --dsc-button-secondary-color: var(--ds-color-danger-text-subtle);
    --dsc-button-tertiary-background--active: var(--ds-color-danger-surface-hover);
    --dsc-button-tertiary-background--hover: var(--ds-color-danger-surface-default);
    --dsc-button-tertiary-color--active: var(--ds-color-danger-text-default);
    --dsc-button-tertiary-color--hover: var(--ds-color-danger-text-default);
    --dsc-button-tertiary-color: var(--ds-color-danger-text-subtle);
  }


  /**
    * Variants
    */
  &[data-variant="secondary"] {
    --dsc-button-background--active: var(--dsc-button-secondary-background--active);
    --dsc-button-background--hover: var(--dsc-button-secondary-background--hover);
    --dsc-button-background: var(--dsc-button-secondary-background);
    --dsc-button-border-color: var(--dsc-button-secondary-border-color);
    --dsc-button-color--active: var(--dsc-button-secondary-color--active);
    --dsc-button-color--hover: var(--dsc-button-secondary-color--hover);
    --dsc-button-color: var(--dsc-button-secondary-color);
  }

  &[data-variant="tertiary"] {
    --dsc-button-background--active: var(--dsc-button-tertiary-background--active);
    --dsc-button-background--hover: var(--dsc-button-tertiary-background--hover);
    --dsc-button-background: var(--dsc-button-tertiary-background);
    --dsc-button-border-color: var(--dsc-button-tertiary-border-color);
    --dsc-button-color--active: var(--dsc-button-tertiary-color--active);
    --dsc-button-color--hover: var(--dsc-button-tertiary-color--hover);
    --dsc-button-color: var(--dsc-button-tertiary-color);
  }

  /**
    * States
    */

  /* TODO: Add state for aria-busy="true" (loading?) */

  @media (hover: hover) and (pointer: fine) { /* Only use hover for non-touch devices to prevent sticky-hovering */
    &:not([aria-disabled="true"], :disabled):hover {
      background: var(--dsc-button-background--hover);
    }
  }

  &:focus-visible {
    box-shadow: var(--dsc-focus-boxShadow);
  }

  &:is(:disabled, [aria-disabled="true"]) {
    cursor: not-allowed;
    opacity: var(--ds-disabled-opacity);
  }

  &:not(:disabled, [aria-disabled="true"]):active {
    background-color: var(--dsc-button-background--active);
  }
}

/* TODO: Should sync design how icon-spacing/alignment should work in general  */
.ds-button--icon-only {
  --dsc-button-padding: 0;
}
