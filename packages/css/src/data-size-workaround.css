/*
Workaround for data-size meaning both "change size mode" and "set font size"
As long as data-size is overloaded in this way, this workaround is needed for
the component to scale based on the surrounding data-size.
*/
/* Default to medium no matter what size is set on the element */
[data-size]:is(.ds-avatar, .ds-heading, .ds-paragraph, .ds-spinner) {
  --ds-size: var(--ds-size--md);
}
/* Hack: Preserve --ds-size-mode-font-size on ancestor so we can look it up at the descendant */
[data-size]:not(.ds-avatar, .ds-heading, .ds-paragraph, .ds-spinner) {
  --_ds-size-mode__hack: var(--ds-size-mode-font-size);
  --_ds-font-scale-base__hack: var(--ds-font-scale-base);
  --_ds-font-scale-ratio__hack: var(--ds-font-scale-ratio);
}
/* Hack: use the nearest ancestor size mode */
[data-size] :is(.ds-avatar, .ds-heading, .ds-paragraph, .ds-spinner) {
  --ds-size-mode-font-size: var(--_ds-size-mode__hack);
  --ds-font-scale-base: var(--_ds-font-scale-base__hack);
  --ds-font-scale-ratio: var(--_ds-font-scale-ratio__hack);
}
